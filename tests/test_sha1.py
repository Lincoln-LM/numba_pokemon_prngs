"""Tests for SHA-1 hash function"""
from numba_pokemon_prngs.sha1 import SHA1
from numba_pokemon_prngs.enums import Language, Game, DSType


def test_initial_seed():
    """Test Gen 5 initial seed generation"""

    def generate_seed(sha1: SHA1) -> int:
        return sha1.hash_seed(sha1.precompute())

    assert tuple(
        tuple(
            tuple(
                generate_seed(
                    SHA1(version, language, ds_type, 0x9BF123456, False, 6, 6)
                )
                for ds_type in DSType
            )
            for version in (Game.BLACK, Game.WHITE, Game.BLACK2, Game.WHITE2)
        )
        for language in Language
    ) == (
        (
            (4214558375724134203, 13178261658407169912, 13178261658407169912),
            (10731469064460170994, 13409350980695100521, 13409350980695100521),
            (9294535429209147214, 18421086019281364411, 18421086019281364411),
            (1548005153117516057, 9439072196682623574, 9439072196682623574),
        ),
        (
            (16161147426387199374, 17110274654883805304, 17110274654883805304),
            (17336162079692399743, 15593959471321908766, 15593959471321908766),
            (8496551619128806798, 8389319848120891097, 8389319848120891097),
            (12832463995954209671, 8759001443065240685, 8759001443065240685),
        ),
        (
            (5498042799146915601, 12329723374309791183, 12329723374309791183),
            (7067692795876133238, 12329723374309791183, 12329723374309791183),
            (12977972579168711276, 16034271834688936643, 16034271834688936643),
            (1352243111041163158, 11389656120309549550, 11389656120309549550),
        ),
        (
            (5966731120340582641, 10034089074098813403, 10034089074098813403),
            (16006986241475799869, 10034089074098813403, 10034089074098813403),
            (11017254688583705109, 1822726881282876641, 1822726881282876641),
            (16567563812625199673, 13739485209121480686, 13739485209121480686),
        ),
        (
            (2713849224261011756, 797067513831398333, 797067513831398333),
            (6122872664364026102, 797067513831398333, 797067513831398333),
            (1781952795540851162, 8068078302799544248, 8068078302799544248),
            (6579032336908654308, 11204909322525562344, 11204909322525562344),
        ),
        (
            (14831682535233312827, 797067513831398333, 797067513831398333),
            (14831682535233312827, 797067513831398333, 797067513831398333),
            (11838344090740586886, 17011383923643059803, 17011383923643059803),
            (1068242364298264078, 2982382473251914731, 2982382473251914731),
        ),
        (
            (3962254420499340906, 3824131699941801737, 3824131699941801737),
            (3962254420499340906, 3824131699941801737, 3824131699941801737),
            (14823268690968982111, 10919597350154271897, 10919597350154271897),
            (3334022064929165637, 10044551806500044676, 10044551806500044676),
        ),
    )
